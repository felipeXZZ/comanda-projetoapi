{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let PedidoService = /*#__PURE__*/(() => {\n  class PedidoService {\n    http;\n    // A URL base da API de Pedidos (que criamos no Java)\n    apiUrl = 'http://localhost:8080/api/pedidos';\n    constructor(http) {\n      this.http = http;\n    }\n    // --- MÉTODOS PARA PEDIDO ---\n    /**\n     * Cria um novo pedido\n     * Chama: POST /api/pedidos\n     */\n    createPedido(pedidoData) {\n      return this.http.post(this.apiUrl, pedidoData);\n    }\n    /**\n     * Busca um pedido específico pelo ID (para rastreamento)\n     * Chama: GET /api/pedidos/{id}\n     */\n    getPedidoById(id) {\n      return this.http.get(`${this.apiUrl}/${id}`);\n    }\n    /**\n     * Busca todos os pedidos\n     * Chama: GET /api/pedidos\n     * (Ajuste 1) - Renomeado de getAllPedidos para getTodosPedidos\n     */\n    getTodosPedidos() {\n      return this.http.get(this.apiUrl);\n    }\n    /**\n     * Atualiza o status de um pedido\n     * Chama: PATCH /api/pedidos/{id}/status\n     */\n    updatePedidoStatus(id, novoStatus) {\n      const body = {\n        status: novoStatus\n      };\n      // (Ajuste 2) - Adicionado /status no final, para bater com seu comentário e API\n      return this.http.patch(`${this.apiUrl}/${id}/status`, body);\n    }\n    static ɵfac = function PedidoService_Factory(ɵt) {\n      return new (ɵt || PedidoService)(i0.ɵɵinject(i1.HttpClient));\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: PedidoService,\n      factory: PedidoService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return PedidoService;\n})();","map":{"version":3,"names":["PedidoService","http","apiUrl","constructor","createPedido","pedidoData","post","getPedidoById","id","get","getTodosPedidos","updatePedidoStatus","novoStatus","body","status","patch","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\jvgam\\OneDrive\\Área de Trabalho\\ComandaProjeto\\dish-app\\dish-app\\src\\app\\components\\admin-area\\kitchen-orders\\kitchen-orders.component.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n// --- Interfaces (Modelos de dados para Pedidos) ---\r\n\r\n// Interface para ENVIAR um item (só o ID)\r\nexport interface ItemPedido {\r\n  dish: { id: number };\r\n  quantidade: number;\r\n}\r\n\r\n// Interface para ENVIAR um pedido\r\nexport interface Pedido {\r\n  nomeCliente: string;\r\n  telefoneCliente: string;\r\n  enderecoCliente: string;\r\n  itens: ItemPedido[];\r\n}\r\n\r\n// --- Interfaces para RECEBER dados do backend ---\r\n\r\n// (Ajuste 1) Interface para o Prato (Dish) que vem do backend\r\nexport interface Dish {\r\n  id: number;\r\n  name: string;\r\n  price: number;\r\n  // ... outros campos como 'description', 'imageUrl' se existirem\r\n}\r\n\r\n// (Ajuste 2) Interface para o ItemPedido que vem do backend\r\nexport interface ItemPedidoCompleto {\r\n  id: number; // ID do próprio item\r\n  quantidade: number;\r\n  dish: Dish; // O objeto Prato completo\r\n}\r\n\r\n// Interface para o Pedido completo que vem do backend\r\nexport interface PedidoCompleto {\r\n  id: number;\r\n  nomeCliente: string;\r\n  telefoneCliente: string;\r\n  enderecoCliente: string;\r\n  dataCriacao: string; // ou Date\r\n  status: string; // \"RECEBIDO\", \"EM_PREPARO\", etc.\r\n  total: number;\r\n  itens: ItemPedidoCompleto[]; // (Ajuste 3) - Era: any[]\r\n  \r\n  // Propriedade temporária para o loading do botão no kitchen-order\r\n  isLoading?: boolean; \r\n}\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PedidoService {\r\n\r\n  // A URL base da API de Pedidos (que criamos no Java)\r\n  private readonly apiUrl = 'http://localhost:8080/api/pedidos';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  // --- MÉTODOS PARA PEDIDO ---\r\n\r\n  /**\r\n   * Cria um novo pedido\r\n   * Chama: POST /api/pedidos\r\n   */\r\n  public createPedido(pedidoData: Pedido): Observable<PedidoCompleto> {\r\n    return this.http.post<PedidoCompleto>(this.apiUrl, pedidoData);\r\n  }\r\n\r\n  /**\r\n   * Busca um pedido específico pelo ID (para rastreamento)\r\n   * Chama: GET /api/pedidos/{id}\r\n   */\r\n  public getPedidoById(id: number): Observable<PedidoCompleto> {\r\n    return this.http.get<PedidoCompleto>(`${this.apiUrl}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Busca todos os pedidos\r\n   * Chama: GET /api/pedidos\r\n   * (Ajuste 1) - Renomeado de getAllPedidos para getTodosPedidos\r\n   */\r\n  public getTodosPedidos(): Observable<PedidoCompleto[]> {\r\n    return this.http.get<PedidoCompleto[]>(this.apiUrl);\r\n  }\r\n\r\n  /**\r\n   * Atualiza o status de um pedido\r\n   * Chama: PATCH /api/pedidos/{id}/status\r\n   */\r\n  updatePedidoStatus(id: number, novoStatus: string): Observable<PedidoCompleto> {\r\n    const body = { status: novoStatus }; \r\n    \r\n    // (Ajuste 2) - Adicionado /status no final, para bater com seu comentário e API\r\n    return this.http.patch<PedidoCompleto>(`${this.apiUrl}/${id}/status`, body);\r\n  }\r\n}"],"mappings":";;AAwDA,WAAaA,aAAa;EAApB,MAAOA,aAAa;IAKJC,IAAA;IAHpB;IACiBC,MAAM,GAAG,mCAAmC;IAE7DC,YAAoBF,IAAgB;MAAhB,KAAAA,IAAI,GAAJA,IAAI;IAAgB;IAExC;IAEA;;;;IAIOG,YAAYA,CAACC,UAAkB;MACpC,OAAO,IAAI,CAACJ,IAAI,CAACK,IAAI,CAAiB,IAAI,CAACJ,MAAM,EAAEG,UAAU,CAAC;IAChE;IAEA;;;;IAIOE,aAAaA,CAACC,EAAU;MAC7B,OAAO,IAAI,CAACP,IAAI,CAACQ,GAAG,CAAiB,GAAG,IAAI,CAACP,MAAM,IAAIM,EAAE,EAAE,CAAC;IAC9D;IAEA;;;;;IAKOE,eAAeA,CAAA;MACpB,OAAO,IAAI,CAACT,IAAI,CAACQ,GAAG,CAAmB,IAAI,CAACP,MAAM,CAAC;IACrD;IAEA;;;;IAIAS,kBAAkBA,CAACH,EAAU,EAAEI,UAAkB;MAC/C,MAAMC,IAAI,GAAG;QAAEC,MAAM,EAAEF;MAAU,CAAE;MAEnC;MACA,OAAO,IAAI,CAACX,IAAI,CAACc,KAAK,CAAiB,GAAG,IAAI,CAACb,MAAM,IAAIM,EAAE,SAAS,EAAEK,IAAI,CAAC;IAC7E;;wBA3CWb,aAAa,EAAAgB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;;aAAbnB,aAAa;MAAAoB,OAAA,EAAbpB,aAAa,CAAAqB,IAAA;MAAAC,UAAA,EAFZ;IAAM;;SAEPtB,aAAa;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}