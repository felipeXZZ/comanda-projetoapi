{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TopbarComponent } from '../topbar/topbar.component';\nlet OrderTrackerComponent = class OrderTrackerComponent {\n  pedidoService;\n  pedidos = [];\n  isLoading = false;\n  error = null;\n  constructor(pedidoService) {\n    this.pedidoService = pedidoService;\n  }\n  // Chamado quando o cliente clica em \"Buscar Pedido\"\n  ngOnInit() {\n    this.carregarPedidos();\n  }\n  carregarPedidos() {\n    this.isLoading = true;\n    this.error = null;\n    // Usando o novo m√©todo do servi√ßo\n    this.pedidoService.getAllPedidos().subscribe({\n      next: data => {\n        // Ordena os pedidos do mais novo para o mais antigo (opcional, mas bom)\n        this.pedidos = data.sort((a, b) => b.id > a.id ? 1 : -1);\n        this.isLoading = false;\n      },\n      error: err => {\n        console.error('Erro ao buscar pedidos:', err);\n        this.error = 'N√£o foi poss√≠vel carregar os pedidos. Tente novamente mais tarde.';\n        this.isLoading = false;\n      }\n    });\n  }\n  // REMOVIDO: onSearch()\n  // FUN√á√ÉO AUXILIAR (da vers√£o anterior, ainda √∫til)\n  formatarStatus(status) {\n    switch (status) {\n      case 'RECEBIDO':\n        return 'üìù Pedido Recebido';\n      case 'EM_PREPARO':\n        return 'üë®‚Äçüç≥ Em Preparo';\n      case 'SAIU_PARA_ENTREGA':\n        return 'üöö A Caminho';\n      case 'ENTREGUE':\n        return '‚úÖ Entregue';\n      case 'PRONTO':\n        return '‚úÖ Pronto';\n      case 'CANCELADO':\n        return '‚ùå Cancelado';\n      default:\n        return status.replace('_', ' ');\n      // Formata qualquer outro status\n    }\n  }\n};\nOrderTrackerComponent = __decorate([Component({\n  selector: 'app-order-tracker',\n  standalone: true,\n  imports: [CommonModule, TopbarComponent],\n  templateUrl: './order-tracker.component.html',\n  styleUrls: ['./order-tracker.component.css']\n})], OrderTrackerComponent);\nexport { OrderTrackerComponent };","map":{"version":3,"names":["Component","CommonModule","TopbarComponent","OrderTrackerComponent","pedidoService","pedidos","isLoading","error","constructor","ngOnInit","carregarPedidos","getAllPedidos","subscribe","next","data","sort","a","b","id","err","console","formatarStatus","status","replace","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\Users\\jvgam\\OneDrive\\√Årea de Trabalho\\ComandaProjeto\\dish-app\\dish-app\\src\\app\\components\\client-area\\order-tracker\\order-tracker.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PedidoService, PedidoCompleto } from '../../../services/pedido.service';\r\nimport { TopbarComponent } from '../topbar/topbar.component';\r\n\r\n@Component({\r\n  selector: 'app-order-tracker',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    TopbarComponent\r\n  ],\r\n  templateUrl: './order-tracker.component.html',\r\n  styleUrls: ['./order-tracker.component.css']\r\n})\r\nexport class OrderTrackerComponent {\r\n\r\n  pedidos: PedidoCompleto[] = [];\r\n  isLoading = false;\r\n  error: string | null = null;\r\n\r\n  constructor(\r\n    private pedidoService: PedidoService\r\n  ) {}\r\n  // Chamado quando o cliente clica em \"Buscar Pedido\"\r\n  ngOnInit(): void {\r\n    this.carregarPedidos();\r\n  }\r\n\r\n  carregarPedidos(): void {\r\n    this.isLoading = true;\r\n    this.error = null;\r\n\r\n    // Usando o novo m√©todo do servi√ßo\r\n    this.pedidoService.getAllPedidos().subscribe({\r\n      next: (data) => {\r\n        // Ordena os pedidos do mais novo para o mais antigo (opcional, mas bom)\r\n        this.pedidos = data.sort((a, b) => (b.id! > a.id! ? 1 : -1));\r\n        this.isLoading = false;\r\n      },\r\n      error: (err) => {\r\n        console.error('Erro ao buscar pedidos:', err);\r\n        this.error = 'N√£o foi poss√≠vel carregar os pedidos. Tente novamente mais tarde.';\r\n        this.isLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  // REMOVIDO: onSearch()\r\n\r\n  // FUN√á√ÉO AUXILIAR (da vers√£o anterior, ainda √∫til)\r\n  formatarStatus(status: string): string {\r\n    switch (status) {\r\n      case 'RECEBIDO':\r\n        return 'üìù Pedido Recebido';\r\n      case 'EM_PREPARO':\r\n        return 'üë®‚Äçüç≥ Em Preparo';\r\n      case 'SAIU_PARA_ENTREGA':\r\n        return 'üöö A Caminho';\r\n      case 'ENTREGUE':\r\n        return '‚úÖ Entregue';\r\n     case 'PRONTO':\r\n        return '‚úÖ Pronto';\r\n      case 'CANCELADO':\r\n        return '‚ùå Cancelado';\r\n      default:\r\n        return status.replace('_', ' '); // Formata qualquer outro status\r\n    }\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,YAAY,QAAQ,iBAAiB;AAE9C,SAASC,eAAe,QAAQ,4BAA4B;AAYrD,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAOtBC,aAAA;EALVC,OAAO,GAAqB,EAAE;EAC9BC,SAAS,GAAG,KAAK;EACjBC,KAAK,GAAkB,IAAI;EAE3BC,YACUJ,aAA4B;IAA5B,KAAAA,aAAa,GAAbA,aAAa;EACpB;EACH;EACAK,QAAQA,CAAA;IACN,IAAI,CAACC,eAAe,EAAE;EACxB;EAEAA,eAAeA,CAAA;IACb,IAAI,CAACJ,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,KAAK,GAAG,IAAI;IAEjB;IACA,IAAI,CAACH,aAAa,CAACO,aAAa,EAAE,CAACC,SAAS,CAAC;MAC3CC,IAAI,EAAGC,IAAI,IAAI;QACb;QACA,IAAI,CAACT,OAAO,GAAGS,IAAI,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAMA,CAAC,CAACC,EAAG,GAAGF,CAAC,CAACE,EAAG,GAAG,CAAC,GAAG,CAAC,CAAE,CAAC;QAC5D,IAAI,CAACZ,SAAS,GAAG,KAAK;MACxB,CAAC;MACDC,KAAK,EAAGY,GAAG,IAAI;QACbC,OAAO,CAACb,KAAK,CAAC,yBAAyB,EAAEY,GAAG,CAAC;QAC7C,IAAI,CAACZ,KAAK,GAAG,mEAAmE;QAChF,IAAI,CAACD,SAAS,GAAG,KAAK;MACxB;KACD,CAAC;EACJ;EAEA;EAEA;EACAe,cAAcA,CAACC,MAAc;IAC3B,QAAQA,MAAM;MACZ,KAAK,UAAU;QACb,OAAO,oBAAoB;MAC7B,KAAK,YAAY;QACf,OAAO,kBAAkB;MAC3B,KAAK,mBAAmB;QACtB,OAAO,cAAc;MACvB,KAAK,UAAU;QACb,OAAO,YAAY;MACtB,KAAK,QAAQ;QACV,OAAO,UAAU;MACnB,KAAK,WAAW;QACd,OAAO,aAAa;MACtB;QACE,OAAOA,MAAM,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;MAAE;IACrC;EACF;CACD;AAtDYpB,qBAAqB,GAAAqB,UAAA,EAVjCxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,mBAAmB;EAC7BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CACP1B,YAAY,EACZC,eAAe,CAChB;EACD0B,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACW1B,qBAAqB,CAsDjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}