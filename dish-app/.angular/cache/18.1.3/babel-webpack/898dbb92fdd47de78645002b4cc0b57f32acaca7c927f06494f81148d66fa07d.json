{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CheckoutComponent = class CheckoutComponent {\n  fb;\n  cart;\n  items$;\n  total$;\n  customerForm;\n  // estados opcionais da sua tela (mantive para compatibilidade)\n  isLoading = false;\n  error = '';\n  successMessage = '';\n  constructor(fb,\n  // ⚠️ certifique-se de injetar aqui o seu serviço real\n  cart, as, any) {\n    this.fb = fb;\n    this.cart = cart;\n  }\n  ngOnInit() {\n    this.items$ = this.cart.items$;\n    this.total$ = this.cart.total$;\n    this.customerForm = this.fb.group({\n      nomeCliente: [''],\n      telefoneCliente: [''],\n      enderecoCliente: ['']\n    });\n  }\n  // === AÇÕES DOS BOTÕES ===\n  dec(item) {\n    const id = item?.dish?.id;\n    if (id == null) {\n      return;\n    }\n    // se quantidade for 1, você pode optar por remover\n    if (item.quantidade <= 1) {\n      this.cart.remove(id);\n    } else {\n      this.cart.decrement(id);\n    }\n  }\n  inc(item) {\n    const id = item?.dish?.id;\n    if (id == null) {\n      return;\n    }\n    this.cart.increment(id);\n  }\n  remove(item) {\n    const id = item?.dish?.id;\n    if (id == null) {\n      return;\n    }\n    this.cart.remove(id);\n  }\n  onSubmit() {\n    // sua lógica de pedido aqui\n    // mantive placeholders para não alterar fluxo existente\n    this.successMessage = 'Pedido enviado!';\n  }\n};\nCheckoutComponent = __decorate([Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.component.html'\n})], CheckoutComponent);\nexport { CheckoutComponent };","map":{"version":3,"names":["Component","CheckoutComponent","fb","cart","items$","total$","customerForm","isLoading","error","successMessage","constructor","as","any","ngOnInit","group","nomeCliente","telefoneCliente","enderecoCliente","dec","item","id","dish","quantidade","remove","decrement","inc","increment","onSubmit","__decorate","selector","templateUrl"],"sources":["C:\\Users\\Gabriel Reis\\Desktop\\dish-app\\src\\app\\components\\checkout\\checkout.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\n\r\ntype DishId = string | number;\r\n\r\ninterface Dish {\r\n  id: DishId;\r\n  name: string;\r\n  price: number;\r\n}\r\n\r\ninterface CartItem {\r\n  dish: Dish;\r\n  quantidade: number;\r\n}\r\n\r\ninterface CartService {\r\n  items$: Observable<CartItem[]>;\r\n  total$: Observable<number>;\r\n  increment: (dishId: DishId) => void;\r\n  decrement: (dishId: DishId) => void;\r\n  remove:    (dishId: DishId) => void;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-checkout',\r\n  templateUrl: './checkout.component.html',\r\n})\r\nexport class CheckoutComponent implements OnInit {\r\n  items$!: Observable<CartItem[]>;\r\n  total$!: Observable<number>;\r\n  customerForm!: FormGroup;\r\n\r\n  // estados opcionais da sua tela (mantive para compatibilidade)\r\n  isLoading = false;\r\n  error = '';\r\n  successMessage = '';\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    // ⚠️ certifique-se de injetar aqui o seu serviço real\r\n    private cart: CartService as any\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.items$ = this.cart.items$;\r\n    this.total$ = this.cart.total$;\r\n\r\n    this.customerForm = this.fb.group({\r\n      nomeCliente: [''],\r\n      telefoneCliente: [''],\r\n      enderecoCliente: [''],\r\n    });\r\n  }\r\n\r\n  // === AÇÕES DOS BOTÕES ===\r\n  dec(item: CartItem): void {\r\n    const id = item?.dish?.id;\r\n    if (id == null) { return; }\r\n    // se quantidade for 1, você pode optar por remover\r\n    if (item.quantidade <= 1) {\r\n      this.cart.remove(id);\r\n    } else {\r\n      this.cart.decrement(id);\r\n    }\r\n  }\r\n\r\n  inc(item: CartItem): void {\r\n    const id = item?.dish?.id;\r\n    if (id == null) { return; }\r\n    this.cart.increment(id);\r\n  }\r\n\r\n  remove(item: CartItem): void {\r\n    const id = item?.dish?.id;\r\n    if (id == null) { return; }\r\n    this.cart.remove(id);\r\n  }\r\n\r\n  onSubmit(): void {\r\n    // sua lógica de pedido aqui\r\n    // mantive placeholders para não alterar fluxo existente\r\n    this.successMessage = 'Pedido enviado!';\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AA6B1C,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAWlBC,EAAA;EAEAC,IAAA;EAZVC,MAAM;EACNC,MAAM;EACNC,YAAY;EAEZ;EACAC,SAAS,GAAG,KAAK;EACjBC,KAAK,GAAG,EAAE;EACVC,cAAc,GAAG,EAAE;EAEnBC,YACUR,EAAe;EACvB;EACQC,IAAiB,EAACQ,EAAE,EAACC,GAAG;IAFxB,KAAAV,EAAE,GAAFA,EAAE;IAEF,KAAAC,IAAI,GAAJA,IAAI;EACX;EAEHU,QAAQA,CAAA;IACN,IAAI,CAACT,MAAM,GAAG,IAAI,CAACD,IAAI,CAACC,MAAM;IAC9B,IAAI,CAACC,MAAM,GAAG,IAAI,CAACF,IAAI,CAACE,MAAM;IAE9B,IAAI,CAACC,YAAY,GAAG,IAAI,CAACJ,EAAE,CAACY,KAAK,CAAC;MAChCC,WAAW,EAAE,CAAC,EAAE,CAAC;MACjBC,eAAe,EAAE,CAAC,EAAE,CAAC;MACrBC,eAAe,EAAE,CAAC,EAAE;KACrB,CAAC;EACJ;EAEA;EACAC,GAAGA,CAACC,IAAc;IAChB,MAAMC,EAAE,GAAGD,IAAI,EAAEE,IAAI,EAAED,EAAE;IACzB,IAAIA,EAAE,IAAI,IAAI,EAAE;MAAE;IAAQ;IAC1B;IACA,IAAID,IAAI,CAACG,UAAU,IAAI,CAAC,EAAE;MACxB,IAAI,CAACnB,IAAI,CAACoB,MAAM,CAACH,EAAE,CAAC;IACtB,CAAC,MAAM;MACL,IAAI,CAACjB,IAAI,CAACqB,SAAS,CAACJ,EAAE,CAAC;IACzB;EACF;EAEAK,GAAGA,CAACN,IAAc;IAChB,MAAMC,EAAE,GAAGD,IAAI,EAAEE,IAAI,EAAED,EAAE;IACzB,IAAIA,EAAE,IAAI,IAAI,EAAE;MAAE;IAAQ;IAC1B,IAAI,CAACjB,IAAI,CAACuB,SAAS,CAACN,EAAE,CAAC;EACzB;EAEAG,MAAMA,CAACJ,IAAc;IACnB,MAAMC,EAAE,GAAGD,IAAI,EAAEE,IAAI,EAAED,EAAE;IACzB,IAAIA,EAAE,IAAI,IAAI,EAAE;MAAE;IAAQ;IAC1B,IAAI,CAACjB,IAAI,CAACoB,MAAM,CAACH,EAAE,CAAC;EACtB;EAEAO,QAAQA,CAAA;IACN;IACA;IACA,IAAI,CAAClB,cAAc,GAAG,iBAAiB;EACzC;CACD;AAxDYR,iBAAiB,GAAA2B,UAAA,EAJ7B5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE;CACd,CAAC,C,EACW7B,iBAAiB,CAwD7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}