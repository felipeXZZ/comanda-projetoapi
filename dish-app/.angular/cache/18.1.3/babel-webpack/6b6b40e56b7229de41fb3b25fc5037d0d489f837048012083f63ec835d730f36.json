{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/dish.service\";\nimport * as i2 from \"../../services/cart.service\";\nimport * as i3 from \"@angular/common\";\nfunction DishListComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵelement(2, \"img\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 13)(4, \"div\", 14);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 15);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 16);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 17)(12, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function DishListComponent_div_17_Template_button_click_12_listener() {\n      const dish_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openAddDialog(dish_r2));\n    });\n    i0.ɵɵtext(13, \"Adicionar ao Carrinho\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const dish_r2 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(dish_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dish_r2.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 3, dish_r2.price, \"BRL\"));\n  }\n}\nexport let DishListComponent = /*#__PURE__*/(() => {\n  class DishListComponent {\n    dishService;\n    cartService;\n    dishes = [];\n    isLoading = true;\n    error = null;\n    totalItensNoCarrinho$;\n    totalPrecoCarrinho$;\n    constructor(dishService, cartService) {\n      this.dishService = dishService;\n      this.cartService = cartService;\n      this.totalPrecoCarrinho$ = this.cartService.total$;\n      this.totalItensNoCarrinho$ = this.cartService.items$.pipe(map(items => items.reduce((total, item) => total + item.quantidade, 0)));\n    }\n    ngOnInit() {\n      this.loadDishes();\n    }\n    loadDishes() {\n      this.isLoading = true;\n      this.error = null;\n      this.dishService.getDishes().subscribe({\n        next: data => {\n          this.dishes = data;\n          this.isLoading = false;\n          console.log('Pratos carregados:', data);\n        },\n        error: err => {\n          console.error('Erro ao buscar pratos:', err);\n          this.error = 'Não foi possível carregar o cardápio. O backend está rodando?';\n          this.isLoading = false;\n        }\n      });\n    }\n    adicionarAoCarrinho(dish) {\n      console.log('Adicionando ao carrinho:', dish.name);\n      this.cartService.addItem(dish);\n    }\n    static ɵfac = function DishListComponent_Factory(ɵt) {\n      return new (ɵt || DishListComponent)(i0.ɵɵdirectiveInject(i1.DishService), i0.ɵɵdirectiveInject(i2.CartService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DishListComponent,\n      selectors: [[\"app-dish-list\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 18,\n      vars: 2,\n      consts: [[1, \"container\"], [1, \"topbar\"], [1, \"pill\", \"is-active\"], [1, \"pill\"], [1, \"badge\"], [1, \"pill\", \"btn-outline\"], [1, \"section-title\"], [1, \"section-sub\"], [1, \"grid-cards\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\"], [1, \"card__media\"], [\"src\", \"assets/icons/plate.svg\", \"alt\", \"\", \"width\", \"64\", \"height\", \"64\"], [1, \"card__body\"], [1, \"card__title\"], [1, \"card__desc\"], [1, \"card__price\"], [1, \"card__footer\"], [1, \"btn\", \"w-full\", 3, \"click\"]],\n      template: function DishListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n          i0.ɵɵtext(3, \"Card\\u00E1pio\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 3);\n          i0.ɵɵtext(5, \" Carrinho \");\n          i0.ɵɵelementStart(6, \"span\", 4);\n          i0.ɵɵtext(7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"button\", 3);\n          i0.ɵɵtext(9, \"Meus Pedidos\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"button\", 5);\n          i0.ɵɵtext(11, \"Sair\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"h1\", 6);\n          i0.ɵɵtext(13, \"Card\\u00E1pio\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"p\", 7);\n          i0.ɵɵtext(15, \"Escolha seus pratos favoritos\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"div\", 8);\n          i0.ɵɵtemplate(17, DishListComponent_div_17_Template, 14, 6, \"div\", 9);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate(ctx.cartCount);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngForOf\", ctx.dishes);\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.CurrencyPipe],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n  return DishListComponent;\n})();","map":{"version":3,"names":["CommonModule","map","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","DishListComponent_div_17_Template_button_click_12_listener","dish_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","openAddDialog","ɵɵadvance","ɵɵtextInterpolate","name","description","ɵɵpipeBind2","price","DishListComponent","dishService","cartService","dishes","isLoading","error","totalItensNoCarrinho$","totalPrecoCarrinho$","constructor","total$","items$","pipe","items","reduce","total","item","quantidade","ngOnInit","loadDishes","getDishes","subscribe","next","data","console","log","err","adicionarAoCarrinho","dish","addItem","ɵɵdirectiveInject","i1","DishService","i2","CartService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","DishListComponent_Template","rf","ctx","ɵɵtemplate","DishListComponent_div_17_Template","cartCount","ɵɵproperty","i3","NgForOf","CurrencyPipe","styles"],"sources":["C:\\Users\\Gabriel Reis\\Desktop\\dish-app\\src\\app\\components\\dish-list\\dish-list.component.ts","C:\\Users\\Gabriel Reis\\Desktop\\dish-app\\src\\app\\components\\dish-list\\dish-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterLink } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n// NOSSOS SERVIÇOS\r\nimport { Dish, DishService } from '../../services/dish.service';\r\nimport { CartService, CartItem } from '../../services/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-dish-list',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    RouterLink\r\n  ],\r\n  templateUrl: './dish-list.component.html',\r\n  styleUrls: ['./dish-list.component.css']\r\n})\r\nexport class DishListComponent implements OnInit {\r\n\r\n  dishes: Dish[] = [];\r\n  isLoading = true;\r\n  error: string | null = null;\r\n\r\n  public totalItensNoCarrinho$: Observable<number>;\r\n  public totalPrecoCarrinho$: Observable<number>;\r\n\r\n  constructor(\r\n    private dishService: DishService,\r\n    private cartService: CartService\r\n  ) {\r\n    this.totalPrecoCarrinho$ = this.cartService.total$;\r\n    this.totalItensNoCarrinho$ = this.cartService.items$.pipe(\r\n      map((items: CartItem[]) => items.reduce((total: number, item: CartItem) => total + item.quantidade, 0))\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loadDishes();\r\n  }\r\n\r\n  loadDishes(): void {\r\n    this.isLoading = true;\r\n    this.error = null;\r\n    this.dishService.getDishes().subscribe({\r\n      next: (data) => {\r\n        this.dishes = data;\r\n        this.isLoading = false;\r\n        console.log('Pratos carregados:', data);\r\n      },\r\n      error: (err) => {\r\n        console.error('Erro ao buscar pratos:', err);\r\n        this.error = 'Não foi possível carregar o cardápio. O backend está rodando?';\r\n        this.isLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  adicionarAoCarrinho(dish: Dish): void {\r\n    console.log('Adicionando ao carrinho:', dish.name);\r\n    this.cartService.addItem(dish);\r\n  }\r\n\r\n  // REMOVIDO: O método deleteDish() foi removido daqui.\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"topbar\">\r\n    <button class=\"pill is-active\">Cardápio</button>\r\n    <button class=\"pill\">\r\n      Carrinho <span class=\"badge\">{{ cartCount }}</span>\r\n    </button>\r\n    <button class=\"pill\">Meus Pedidos</button>\r\n    <button class=\"pill btn-outline\">Sair</button>\r\n  </div>\r\n\r\n  <h1 class=\"section-title\">Cardápio</h1>\r\n  <p class=\"section-sub\">Escolha seus pratos favoritos</p>\r\n\r\n  <div class=\"grid-cards\">\r\n    <div class=\"card\" *ngFor=\"let dish of dishes\">\r\n      <div class=\"card__media\">\r\n        <img src=\"assets/icons/plate.svg\" alt=\"\" width=\"64\" height=\"64\">\r\n      </div>\r\n      <div class=\"card__body\">\r\n        <div class=\"card__title\">{{ dish.name }}</div>\r\n        <div class=\"card__desc\">{{ dish.description }}</div>\r\n        <div class=\"card__price\">{{ dish.price | currency:'BRL' }}</div>\r\n      </div>\r\n      <div class=\"card__footer\">\r\n        <button class=\"btn w-full\" (click)=\"openAddDialog(dish)\">Adicionar ao Carrinho</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}