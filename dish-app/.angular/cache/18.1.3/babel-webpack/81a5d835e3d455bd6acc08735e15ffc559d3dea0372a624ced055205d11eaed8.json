{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/dish.service\";\nimport * as i2 from \"../../services/cart.service\";\nimport * as i3 from \"@angular/common\";\nfunction DishListComponent_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\", 9);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", ctx_r0.cartCount, \" \");\n  }\n}\nexport let DishListComponent = /*#__PURE__*/(() => {\n  class DishListComponent {\n    dishService;\n    cartService;\n    dishes = [];\n    isLoading = true;\n    error = null;\n    totalItensNoCarrinho$;\n    totalPrecoCarrinho$;\n    constructor(dishService, cartService) {\n      this.dishService = dishService;\n      this.cartService = cartService;\n      this.totalPrecoCarrinho$ = this.cartService.total$;\n      this.totalItensNoCarrinho$ = this.cartService.items$.pipe(map(items => items.reduce((total, item) => total + item.quantidade, 0)));\n    }\n    ngOnInit() {\n      this.loadDishes();\n    }\n    loadDishes() {\n      this.isLoading = true;\n      this.error = null;\n      this.dishService.getDishes().subscribe({\n        next: data => {\n          this.dishes = data;\n          this.isLoading = false;\n          console.log('Pratos carregados:', data);\n        },\n        error: err => {\n          console.error('Erro ao buscar pratos:', err);\n          this.error = 'N√£o foi poss√≠vel carregar o card√°pio. O backend est√° rodando?';\n          this.isLoading = false;\n        }\n      });\n    }\n    adicionarAoCarrinho(dish) {\n      console.log('Adicionando ao carrinho:', dish.name);\n      this.cartService.addItem(dish);\n    }\n    static …µfac = function DishListComponent_Factory(…µt) {\n      return new (…µt || DishListComponent)(i0.…µ…µdirectiveInject(i1.DishService), i0.…µ…µdirectiveInject(i2.CartService));\n    };\n    static …µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: DishListComponent,\n      selectors: [[\"app-dish-list\"]],\n      standalone: true,\n      features: [i0.…µ…µStandaloneFeature],\n      decls: 14,\n      vars: 1,\n      consts: [[1, \"w-full\", \"bg-[var(--brand)]\", \"text-white\"], [1, \"max-w-6xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"py-3\", \"flex\", \"items-center\", \"justify-between\"], [1, \"font-semibold\"], [1, \"flex\", \"gap-2\"], [\"routerLink\", \"/cardapio\", 1, \"px-4\", \"py-2\", \"rounded-xl\", \"bg-white/10\", \"hover:bg-white/20\", \"transition\"], [\"routerLink\", \"/carrinho\", 1, \"relative\", \"px-4\", \"py-2\", \"rounded-xl\", \"bg-white\", \"text-[var(--brand)]\", \"hover:bg-white/90\", \"transition\"], [\"class\", \"absolute -top-2 -right-2 text-xs font-bold bg-[var(--accent)] text-black rounded-full px-2 py-0.5\", 4, \"ngIf\"], [\"routerLink\", \"/meus-pedidos\", 1, \"px-4\", \"py-2\", \"rounded-xl\", \"bg-white/10\", \"hover:bg-white/20\", \"transition\"], [1, \"px-4\", \"py-2\", \"rounded-xl\", \"bg-white/10\", \"hover:bg-white/20\", \"transition\"], [1, \"absolute\", \"-top-2\", \"-right-2\", \"text-xs\", \"font-bold\", \"bg-[var(--accent)]\", \"text-black\", \"rounded-full\", \"px-2\", \"py-0.5\"]],\n      template: function DishListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"span\", 2);\n          i0.…µ…µtext(3, \"Bem-vindo! \\uD83E\\uDDFE\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(4, \"nav\", 3)(5, \"a\", 4);\n          i0.…µ…µtext(6, \"Card\\u00E1pio\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(7, \"a\", 5);\n          i0.…µ…µtext(8, \" Carrinho \");\n          i0.…µ…µtemplate(9, DishListComponent_span_9_Template, 2, 1, \"span\", 6);\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(10, \"a\", 7);\n          i0.…µ…µtext(11, \"Meus Pedidos\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(12, \"button\", 8);\n          i0.…µ…µtext(13, \"Sair\");\n          i0.…µ…µelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(9);\n          i0.…µ…µproperty(\"ngIf\", ctx.cartCount > 0);\n        }\n      },\n      dependencies: [CommonModule, i3.NgIf, RouterLink],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n  return DishListComponent;\n})();","map":{"version":3,"names":["CommonModule","RouterLink","map","i0","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µadvance","…µ…µtextInterpolate1","ctx_r0","cartCount","DishListComponent","dishService","cartService","dishes","isLoading","error","totalItensNoCarrinho$","totalPrecoCarrinho$","constructor","total$","items$","pipe","items","reduce","total","item","quantidade","ngOnInit","loadDishes","getDishes","subscribe","next","data","console","log","err","adicionarAoCarrinho","dish","name","addItem","…µ…µdirectiveInject","i1","DishService","i2","CartService","selectors","standalone","features","…µ…µStandaloneFeature","decls","vars","consts","template","DishListComponent_Template","rf","ctx","…µ…µtemplate","DishListComponent_span_9_Template","…µ…µproperty","i3","NgIf","styles"],"sources":["C:\\Users\\Gabriel Reis\\Desktop\\dish-app\\src\\app\\components\\dish-list\\dish-list.component.ts","C:\\Users\\Gabriel Reis\\Desktop\\dish-app\\src\\app\\components\\dish-list\\dish-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterLink } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n// NOSSOS SERVI√áOS\r\nimport { Dish, DishService } from '../../services/dish.service';\r\nimport { CartService, CartItem } from '../../services/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-dish-list',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    RouterLink\r\n  ],\r\n  templateUrl: './dish-list.component.html',\r\n  styleUrls: ['./dish-list.component.css']\r\n})\r\nexport class DishListComponent implements OnInit {\r\n\r\n  dishes: Dish[] = [];\r\n  isLoading = true;\r\n  error: string | null = null;\r\n\r\n  public totalItensNoCarrinho$: Observable<number>;\r\n  public totalPrecoCarrinho$: Observable<number>;\r\n\r\n  constructor(\r\n    private dishService: DishService,\r\n    private cartService: CartService\r\n  ) {\r\n    this.totalPrecoCarrinho$ = this.cartService.total$;\r\n    this.totalItensNoCarrinho$ = this.cartService.items$.pipe(\r\n      map((items: CartItem[]) => items.reduce((total: number, item: CartItem) => total + item.quantidade, 0))\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loadDishes();\r\n  }\r\n\r\n  loadDishes(): void {\r\n    this.isLoading = true;\r\n    this.error = null;\r\n    this.dishService.getDishes().subscribe({\r\n      next: (data) => {\r\n        this.dishes = data;\r\n        this.isLoading = false;\r\n        console.log('Pratos carregados:', data);\r\n      },\r\n      error: (err) => {\r\n        console.error('Erro ao buscar pratos:', err);\r\n        this.error = 'N√£o foi poss√≠vel carregar o card√°pio. O backend est√° rodando?';\r\n        this.isLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  adicionarAoCarrinho(dish: Dish): void {\r\n    console.log('Adicionando ao carrinho:', dish.name);\r\n    this.cartService.addItem(dish);\r\n  }\r\n\r\n  // REMOVIDO: O m√©todo deleteDish() foi removido daqui.\r\n}\r\n","<header class=\"w-full bg-[var(--brand)] text-white\">\r\n  <div class=\"max-w-6xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between\">\r\n    <span class=\"font-semibold\">Bem-vindo! üßæ</span>\r\n\r\n    <nav class=\"flex gap-2\">\r\n      <a routerLink=\"/cardapio\"\r\n         class=\"px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition\">Card√°pio</a>\r\n\r\n      <a routerLink=\"/carrinho\"\r\n         class=\"relative px-4 py-2 rounded-xl bg-white text-[var(--brand)] hover:bg-white/90 transition\">\r\n        Carrinho\r\n        <span *ngIf=\"cartCount>0\"\r\n              class=\"absolute -top-2 -right-2 text-xs font-bold bg-[var(--accent)] text-black rounded-full px-2 py-0.5\">\r\n          {{ cartCount }}\r\n        </span>\r\n      </a>\r\n\r\n      <a routerLink=\"/meus-pedidos\"\r\n         class=\"px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition\">Meus Pedidos</a>\r\n\r\n      <button class=\"px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition\">Sair</button>\r\n    </nav>\r\n  </div>\r\n</header>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}