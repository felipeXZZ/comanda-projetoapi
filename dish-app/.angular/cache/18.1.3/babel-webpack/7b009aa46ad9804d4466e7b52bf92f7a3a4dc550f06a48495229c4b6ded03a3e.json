{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet OrderTrackerComponent = class OrderTrackerComponent {\n  pedidoService;\n  pedidos = [];\n  isLoading = false;\n  error = null;\n  constructor(pedidoService) {\n    this.pedidoService = pedidoService;\n  }\n  ngOnInit() {\n    this.carregarPedidos();\n  }\n  carregarPedidos() {\n    this.isLoading = true;\n    this.pedidoService.getPedidos().subscribe({\n      next: dados => {\n        this.pedidos = dados;\n        this.isLoading = false;\n      },\n      error: err => {\n        this.error = 'Erro ao buscar pedidos.';\n        console.error(err);\n        this.isLoading = false;\n      }\n    });\n  }\n  formatarStatus(status) {\n    const mapa = {\n      RECEBIDO: 'Recebido',\n      EM_PREPARO: 'Em preparo',\n      PRONTO: 'Pronto',\n      SAIU_PARA_ENTREGA: 'Saiu para entrega',\n      ENTREGUE: 'Entregue',\n      CANCELADO: 'Cancelado'\n    };\n    return mapa[status] || status;\n  }\n  marcarComoPronto(pedido) {\n    const atualizado = {\n      ...pedido,\n      status: 'PRONTO'\n    };\n    this.pedidoService.atualizarPedido(atualizado).subscribe({\n      next: () => this.carregarPedidos(),\n      error: err => console.error('Erro ao atualizar pedido', err)\n    });\n  }\n  enviarParaEntrega(pedido) {\n    const atualizado = {\n      ...pedido,\n      status: 'SAIU_PARA_ENTREGA'\n    };\n    this.pedidoService.atualizarPedido(atualizado).subscribe({\n      next: () => this.carregarPedidos(),\n      error: err => console.error('Erro ao atualizar pedido', err)\n    });\n  }\n};\nOrderTrackerComponent = __decorate([Component({\n  selector: 'app-order-tracker',\n  templateUrl: './order-tracker.component.html',\n  styleUrls: ['./order-tracker.component.css']\n})], OrderTrackerComponent);\nexport { OrderTrackerComponent };","map":{"version":3,"names":["Component","OrderTrackerComponent","pedidoService","pedidos","isLoading","error","constructor","ngOnInit","carregarPedidos","getPedidos","subscribe","next","dados","err","console","formatarStatus","status","mapa","RECEBIDO","EM_PREPARO","PRONTO","SAIU_PARA_ENTREGA","ENTREGUE","CANCELADO","marcarComoPronto","pedido","atualizado","atualizarPedido","enviarParaEntrega","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\jvgam\\OneDrive\\Ãrea de Trabalho\\ComandaProjeto\\dish-app\\dish-app\\src\\app\\components\\client-area\\order-tracker\\order-tracker.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { PedidoService } from '../../../../services/pedido.service';\r\nimport { Pedido } from '../../../../models/pedido.model';\r\n\r\n@Component({\r\n  selector: 'app-order-tracker',\r\n  templateUrl: './order-tracker.component.html',\r\n  styleUrls: ['./order-tracker.component.css']\r\n})\r\nexport class OrderTrackerComponent implements OnInit {\r\n  pedidos: Pedido[] = [];\r\n  isLoading = false;\r\n  error: string | null = null;\r\n\r\n  constructor(private pedidoService: PedidoService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.carregarPedidos();\r\n  }\r\n\r\n  carregarPedidos(): void {\r\n    this.isLoading = true;\r\n    this.pedidoService.getPedidos().subscribe({\r\n      next: (dados: Pedido[]) => {\r\n        this.pedidos = dados;\r\n        this.isLoading = false;\r\n      },\r\n      error: (err: any) => {\r\n        this.error = 'Erro ao buscar pedidos.';\r\n        console.error(err);\r\n        this.isLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  formatarStatus(status: string): string {\r\n    const mapa: any = {\r\n      RECEBIDO: 'Recebido',\r\n      EM_PREPARO: 'Em preparo',\r\n      PRONTO: 'Pronto',\r\n      SAIU_PARA_ENTREGA: 'Saiu para entrega',\r\n      ENTREGUE: 'Entregue',\r\n      CANCELADO: 'Cancelado'\r\n    };\r\n    return mapa[status] || status;\r\n  }\r\n\r\n  marcarComoPronto(pedido: Pedido): void {\r\n    const atualizado = { ...pedido, status: 'PRONTO' };\r\n    this.pedidoService.atualizarPedido(atualizado).subscribe({\r\n      next: () => this.carregarPedidos(),\r\n      error: (err: any) => console.error('Erro ao atualizar pedido', err)\r\n    });\r\n  }\r\n\r\n  enviarParaEntrega(pedido: Pedido): void {\r\n    const atualizado = { ...pedido, status: 'SAIU_PARA_ENTREGA' };\r\n    this.pedidoService.atualizarPedido(atualizado).subscribe({\r\n      next: () => this.carregarPedidos(),\r\n      error: (err: any) => console.error('Erro ao atualizar pedido', err)\r\n    });\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAKZC,aAAA;EAJpBC,OAAO,GAAa,EAAE;EACtBC,SAAS,GAAG,KAAK;EACjBC,KAAK,GAAkB,IAAI;EAE3BC,YAAoBJ,aAA4B;IAA5B,KAAAA,aAAa,GAAbA,aAAa;EAAkB;EAEnDK,QAAQA,CAAA;IACN,IAAI,CAACC,eAAe,EAAE;EACxB;EAEAA,eAAeA,CAAA;IACb,IAAI,CAACJ,SAAS,GAAG,IAAI;IACrB,IAAI,CAACF,aAAa,CAACO,UAAU,EAAE,CAACC,SAAS,CAAC;MACxCC,IAAI,EAAGC,KAAe,IAAI;QACxB,IAAI,CAACT,OAAO,GAAGS,KAAK;QACpB,IAAI,CAACR,SAAS,GAAG,KAAK;MACxB,CAAC;MACDC,KAAK,EAAGQ,GAAQ,IAAI;QAClB,IAAI,CAACR,KAAK,GAAG,yBAAyB;QACtCS,OAAO,CAACT,KAAK,CAACQ,GAAG,CAAC;QAClB,IAAI,CAACT,SAAS,GAAG,KAAK;MACxB;KACD,CAAC;EACJ;EAEAW,cAAcA,CAACC,MAAc;IAC3B,MAAMC,IAAI,GAAQ;MAChBC,QAAQ,EAAE,UAAU;MACpBC,UAAU,EAAE,YAAY;MACxBC,MAAM,EAAE,QAAQ;MAChBC,iBAAiB,EAAE,mBAAmB;MACtCC,QAAQ,EAAE,UAAU;MACpBC,SAAS,EAAE;KACZ;IACD,OAAON,IAAI,CAACD,MAAM,CAAC,IAAIA,MAAM;EAC/B;EAEAQ,gBAAgBA,CAACC,MAAc;IAC7B,MAAMC,UAAU,GAAG;MAAE,GAAGD,MAAM;MAAET,MAAM,EAAE;IAAQ,CAAE;IAClD,IAAI,CAACd,aAAa,CAACyB,eAAe,CAACD,UAAU,CAAC,CAAChB,SAAS,CAAC;MACvDC,IAAI,EAAEA,CAAA,KAAM,IAAI,CAACH,eAAe,EAAE;MAClCH,KAAK,EAAGQ,GAAQ,IAAKC,OAAO,CAACT,KAAK,CAAC,0BAA0B,EAAEQ,GAAG;KACnE,CAAC;EACJ;EAEAe,iBAAiBA,CAACH,MAAc;IAC9B,MAAMC,UAAU,GAAG;MAAE,GAAGD,MAAM;MAAET,MAAM,EAAE;IAAmB,CAAE;IAC7D,IAAI,CAACd,aAAa,CAACyB,eAAe,CAACD,UAAU,CAAC,CAAChB,SAAS,CAAC;MACvDC,IAAI,EAAEA,CAAA,KAAM,IAAI,CAACH,eAAe,EAAE;MAClCH,KAAK,EAAGQ,GAAQ,IAAKC,OAAO,CAACT,KAAK,CAAC,0BAA0B,EAAEQ,GAAG;KACnE,CAAC;EACJ;CACD;AArDYZ,qBAAqB,GAAA4B,UAAA,EALjC7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACW/B,qBAAqB,CAqDjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}