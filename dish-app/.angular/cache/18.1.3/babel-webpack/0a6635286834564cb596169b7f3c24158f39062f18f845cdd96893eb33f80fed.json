{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nlet OrderTrackerComponent = class OrderTrackerComponent {\n  fb;\n  pedidoService;\n  searchForm;\n  pedidoEncontrado = null;\n  isLoading = false;\n  error = null;\n  constructor(fb, pedidoService) {\n    this.fb = fb;\n    this.pedidoService = pedidoService;\n    // Inicializa o formulário reativo\n    this.searchForm = this.fb.group({\n      pedidoId: ['', [Validators.required, Validators.pattern(\"^[0-9]*$\")]]\n    });\n  }\n  /**\n   * Realiza a busca do pedido pelo ID informado no formulário.\n   */\n  onSearch() {\n    if (this.searchForm.invalid) {\n      this.error = \"Por favor, insira um ID de pedido válido.\";\n      return;\n    }\n    const id = this.searchForm.value.pedidoId;\n    this.isLoading = true;\n    this.error = null;\n    this.pedidoEncontrado = null;\n    this.pedidoService.getPedidoById(id).subscribe({\n      next: pedido => {\n        if (!pedido) {\n          this.error = `Pedido #${id} não encontrado.`;\n          this.pedidoEncontrado = null;\n        } else {\n          this.pedidoEncontrado = pedido;\n        }\n        this.isLoading = false;\n      },\n      error: err => {\n        console.error('Erro ao buscar pedido:', err);\n        this.error = `Não foi possível localizar o pedido #${id}.`;\n        this.isLoading = false;\n      }\n    });\n  }\n};\nOrderTrackerComponent = __decorate([Component({\n  selector: 'app-order-tracker',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  templateUrl: './order-tracker.component.html'\n})], OrderTrackerComponent);\nexport { OrderTrackerComponent };","map":{"version":3,"names":["Component","CommonModule","Validators","ReactiveFormsModule","OrderTrackerComponent","fb","pedidoService","searchForm","pedidoEncontrado","isLoading","error","constructor","group","pedidoId","required","pattern","onSearch","invalid","id","value","getPedidoById","subscribe","next","pedido","err","console","__decorate","selector","standalone","imports","templateUrl"],"sources":["C:\\Users\\jvgam\\OneDrive\\Área de Trabalho\\ComandaProjeto\\dish-app\\dish-app\\src\\app\\components\\client-area\\order-tracker\\order-tracker.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\r\nimport { PedidoService, PedidoCompleto } from '../../services/pedido.service';\r\n\r\n@Component({\r\n  selector: 'app-order-tracker',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule],\r\n  templateUrl: './order-tracker.component.html'\r\n})\r\nexport class OrderTrackerComponent {\r\n\r\n  searchForm: FormGroup;\r\n  pedidoEncontrado: PedidoCompleto | null = null;\r\n  isLoading = false;\r\n  error: string | null = null;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private pedidoService: PedidoService\r\n  ) {\r\n    // Inicializa o formulário reativo\r\n    this.searchForm = this.fb.group({\r\n      pedidoId: ['', [Validators.required, Validators.pattern(\"^[0-9]*$\")]]\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Realiza a busca do pedido pelo ID informado no formulário.\r\n   */\r\n  onSearch(): void {\r\n    if (this.searchForm.invalid) {\r\n      this.error = \"Por favor, insira um ID de pedido válido.\";\r\n      return;\r\n    }\r\n\r\n    const id = this.searchForm.value.pedidoId;\r\n\r\n    this.isLoading = true;\r\n    this.error = null;\r\n    this.pedidoEncontrado = null;\r\n\r\n    this.pedidoService.getPedidoById(id).subscribe({\r\n      next: (pedido) => {\r\n        if (!pedido) {\r\n          this.error = `Pedido #${id} não encontrado.`;\r\n          this.pedidoEncontrado = null;\r\n        } else {\r\n          this.pedidoEncontrado = pedido;\r\n        }\r\n        this.isLoading = false;\r\n      },\r\n      error: (err) => {\r\n        console.error('Erro ao buscar pedido:', err);\r\n        this.error = `Não foi possível localizar o pedido #${id}.`;\r\n        this.isLoading = false;\r\n      }\r\n    });\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAAiCC,UAAU,EAAEC,mBAAmB,QAAQ,gBAAgB;AASjF,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAQtBC,EAAA;EACAC,aAAA;EAPVC,UAAU;EACVC,gBAAgB,GAA0B,IAAI;EAC9CC,SAAS,GAAG,KAAK;EACjBC,KAAK,GAAkB,IAAI;EAE3BC,YACUN,EAAe,EACfC,aAA4B;IAD5B,KAAAD,EAAE,GAAFA,EAAE;IACF,KAAAC,aAAa,GAAbA,aAAa;IAErB;IACA,IAAI,CAACC,UAAU,GAAG,IAAI,CAACF,EAAE,CAACO,KAAK,CAAC;MAC9BC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACX,UAAU,CAACY,QAAQ,EAAEZ,UAAU,CAACa,OAAO,CAAC,UAAU,CAAC,CAAC;KACrE,CAAC;EACJ;EAEA;;;EAGAC,QAAQA,CAAA;IACN,IAAI,IAAI,CAACT,UAAU,CAACU,OAAO,EAAE;MAC3B,IAAI,CAACP,KAAK,GAAG,2CAA2C;MACxD;IACF;IAEA,MAAMQ,EAAE,GAAG,IAAI,CAACX,UAAU,CAACY,KAAK,CAACN,QAAQ;IAEzC,IAAI,CAACJ,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACF,gBAAgB,GAAG,IAAI;IAE5B,IAAI,CAACF,aAAa,CAACc,aAAa,CAACF,EAAE,CAAC,CAACG,SAAS,CAAC;MAC7CC,IAAI,EAAGC,MAAM,IAAI;QACf,IAAI,CAACA,MAAM,EAAE;UACX,IAAI,CAACb,KAAK,GAAG,WAAWQ,EAAE,kBAAkB;UAC5C,IAAI,CAACV,gBAAgB,GAAG,IAAI;QAC9B,CAAC,MAAM;UACL,IAAI,CAACA,gBAAgB,GAAGe,MAAM;QAChC;QACA,IAAI,CAACd,SAAS,GAAG,KAAK;MACxB,CAAC;MACDC,KAAK,EAAGc,GAAG,IAAI;QACbC,OAAO,CAACf,KAAK,CAAC,wBAAwB,EAAEc,GAAG,CAAC;QAC5C,IAAI,CAACd,KAAK,GAAG,wCAAwCQ,EAAE,GAAG;QAC1D,IAAI,CAACT,SAAS,GAAG,KAAK;MACxB;KACD,CAAC;EACJ;CACD;AAjDYL,qBAAqB,GAAAsB,UAAA,EANjC1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,mBAAmB;EAC7BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAAC5B,YAAY,EAAEE,mBAAmB,CAAC;EAC5C2B,WAAW,EAAE;CACd,CAAC,C,EACW1B,qBAAqB,CAiDjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}